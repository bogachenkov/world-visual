(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{372:function(t,n,e){"use strict";var r=e(1),a=e.n(r);e(373);n.a=function(t){var n=t.children;return a.a.createElement("h2",{className:"title"},n)}},373:function(t,n,e){},375:function(t,n,e){"use strict";e.d(n,"e",(function(){return h})),e.d(n,"d",(function(){return g})),e.d(n,"b",(function(){return m})),e.d(n,"f",(function(){return y})),e.d(n,"c",(function(){return v})),e.d(n,"a",(function(){return b}));var r=e(103);function a(){var t=p(['\n  query getRegions {\n    Region(filter: { name_not: "Polar" }) {\n      _id,\n      name,\n      subregions {\n        _id\n        name\n        countries(filter: { population_gt: 1 }) {\n          _id,\n          population\n        }\n      }\n    }\n  }\n']);return a=function(){return t},t}function o(){var t=p(['\n  query getCountryBorders {\n    Country(filter: { area_gt: 1, population_gt: 1, capital_not: "" }) {\n      ...CountryData,\n      alpha3Code,\n      borders {\n        alpha3Code\n      }\n    }\n  }\n  ',"\n"]);return o=function(){return t},t}function i(){var t=p(['\n  query getTimezones {\n    Timezone {\n      _id,\n      name,\n      countries(filter: { area_gt: 1, population_gt: 1, capital_not: "" }) {\n        _id,\n        population\n      }\n    }\n  }\n']);return i=function(){return t},t}function u(){var t=p(['\n  query getCountriesArea {\n    Country(filter: { area_lt: 1500000, population_gt: 1, capital_not: "" }) {\n      ...CountryData,\n      area\n    }\n  }\n  ',"\n"]);return u=function(){return t},t}function c(){var t=p(['\n  query getCountriesDensity {\n      Country(filter: { area_gt: 1, population_gt: 1, capital_not: "" }) {\n      ...CountryData\n      alpha3Code,\n      density: populationDensity,\n      population,\n      area\n    }\n  }\n  ',"\n"]);return c=function(){return t},t}function s(){var t=p(["\n  query getCountriesByPopulation($orderBy:[_CountryOrdering]) {\n    Country(orderBy: $orderBy, first: 10, filter: { population_gte: 1 }) {\n      ...CountryData\n      population,\n      populationDensity\n    }\n  }\n  ","\n"]);return s=function(){return t},t}function l(){var t=p(["\n  query getCountryByName($name: String) {\n    Country(name: $name) {\n      area,\n      demonym,\n      name,\n      nativeName,\n      numericCode,\n      capital,\n      officialLanguages {\n        name\n      }\n      population,\n      populationDensity,\n      subregion {\n        name\n      },\n      borders {\n        name\n      }\n      timezones {\n        name\n      }\n    }\n  }\n"]);return l=function(){return t},t}function f(){var t=p(["\n  fragment CountryData on Country {\n    _id,\n    name\n  }\n"]);return f=function(){return t},t}function p(t,n){return n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))}var d=Object(r.b)(f()),h=(Object(r.b)(l()),Object(r.b)(s(),d)),g=Object(r.b)(c(),d),m=Object(r.b)(u(),d),y=Object(r.b)(i()),v=Object(r.b)(o(),d),b=Object(r.b)(a())},376:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(374);function a(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var i=function(){function t(n,e,a){var i=e.margins,u=e.height,c=e.width;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,"svg",void 0),o(this,"margins",void 0),o(this,"width",void 0),o(this,"height",void 0),o(this,"xAxisGroup",void 0),o(this,"yAxisGroup",void 0),this.margins=i;var s=c||n.clientWidth,l=u||n.clientHeight,f=Math.max(s,1100),p=Math.max(l,a?1100:700);this.width=f-this.margins.left-this.margins.right,this.height=p-this.margins.top-this.margins.bottom,this.svg=r.r(n).append("svg").attr("viewBox","0 0 ".concat(f," ").concat(p)).attr("preserveAspectRatio","xMinYMin meet").append("g"),this.centerChart()}var n,e,i;return n=t,(e=[{key:"addAxisGroups",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&(this.xAxisGroup=this.svg.append("g").classed("axis-group",!0).classed("x-axis-group",!0).attr("transform","translate(0, ".concat(this.height,")"))),n&&(this.yAxisGroup=this.svg.append("g").classed("axis-group",!0).classed("y-axis-group",!0))}},{key:"centerChart",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.margins.left,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.margins.top;this.svg.attr("transform","translate(".concat(t,", ").concat(n,")"))}},{key:"wrap",value:function(t,n){t.each((function(){for(var t,e=r.r(this),a=e.text().split(/\s+/).reverse(),o=[],i=0,u=e.attr("y"),c=parseFloat(e.attr("dy")),s=e.text(null).append("tspan").attr("x",0).attr("y",u).attr("dy",c+"em");t=a.pop();)o.push(t),s.text(o.join(" ")),s.node().getComputedTextLength()>n&&(o.pop(),s.text(o.join(" ")),o=[t],s=e.append("tspan").attr("x",0).attr("y",u).attr("dy","".concat(1.1*++i+c,"em")).text(t))}))}},{key:"degToRad",value:function(t){return t*Math.PI/180}},{key:"radToDeg",value:function(t){return 180*t/Math.PI}}])&&a(n.prototype,e),i&&a(n,i),t}()},377:function(t,n,e){"use strict";var r=e(1),a=e.n(r),o=(e(378),Object(r.forwardRef)((function(t,n){var e=t.children,r=t.classNames,o=void 0===r?[]:r;return a.a.createElement("div",{ref:n,className:"chart-wrapper ".concat(o.join(" "))},e)})));n.a=o},378:function(t,n,e){},488:function(t,n,e){"use strict";e.r(n);var r=e(1),a=e.n(r),o=e(370),i=e(372),u=e(375),c=e(374);function s(t){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,n){return(f=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function p(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=g(t);if(n){var a=g(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return d(this,e)}}function d(t,n){return!n||"object"!==s(n)&&"function"!==typeof n?h(t):n}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var y=function(t){!function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&f(t,n)}(o,t);var n,e,r,a=p(o);function o(t,n,e){var r;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),(r=a.call(this,t,e)).data=n,m(h(r),"outerRadius",void 0),m(h(r),"arc",void 0),m(h(r),"colors",[{color:"#02c4de",value:0},{color:"#02b3ca",value:1e5},{color:"#02a1b6",value:2e5},{color:"#028ea1",value:3e5},{color:"#038198",value:55e4},{color:"#04738f",value:7e5},{color:"#045676",value:8e5},{color:"#044862",value:9e4},{color:"#03394e",value:11e5},{color:"#033447",value:13e5}]);var i=Math.min(r.width,r.height)===r.width;return r.outerRadius=i?r.width/2:r.height/1.5,r.centerChart(r.width/2+r.margins.left,r.height/(i?2:1.5)+2*r.margins.top),r.update(),r}return n=o,(e=[{key:"yAxis",value:function(t,n){return t.attr("text-anchor","middle").call((function(t){return t.selectAll("g").data(n.ticks(5).slice(1)).join("g").attr("fill","none").call((function(t,e){return t.append("circle").attr("stroke","#bbb").attr("stroke-opacity",.5).attr("r",n)})).call((function(t){return t.append("text").attr("y",(function(t){return-n(t)})).attr("dy","0.35em").attr("stroke-width",5).text(n.tickFormat(5,"s")).attr("font-size",11).attr("font-family","'Open Sans', sans-serif").attr("font-weight",600).clone(!0).attr("fill","#000").attr("stroke","none")}))}))}},{key:"arcTween",value:function(t){var n=this,e=c.i({area:0},t);return function(t){var r=n.arc(e(t));return r||""}}},{key:"update",value:function(){var t=this,n=c.q().domain(this.colors.map((function(t){return t.value}))).range(this.colors.map((function(t){return t.color}))),e=c.n().range([1.4*Math.PI,2.6*Math.PI]).align(0).domain(this.data.map((function(t){return t.name}))),r=c.o().range([this.outerRadius*this.outerRadius,0]).domain([c.k(this.data,(function(t){return t.area})),c.j(this.data,(function(t){return t.area}))]),a=Object.assign((function(t){return Math.sqrt(r(t))}),r);this.svg.append("g").call(this.yAxis,a),this.arc=c.a().innerRadius(a(0)).outerRadius((function(t){return a(t.area)})).startAngle((function(t){return e(t.name)})).endAngle((function(t){return e(t.name)+e.bandwidth()})).padAngle(.01).padRadius(90),this.svg.append("g").selectAll("path").data(this.data).join("path").attr("fill",(function(t){return n(t.area)})).transition().duration(500).attrTween("d",(function(n){return t.arcTween(n)})),this.svg.append("g").selectAll("g").data(this.data).join("g").attr("text-anchor",(function(t){return(e(t.name)+e.bandwidth()/2+Math.PI)%(2*Math.PI)<Math.PI?"end":"start"})).attr("transform",(function(n){return"rotate("+(180*(e(n.name)+e.bandwidth()/2)/Math.PI-90)+")translate("+(t.outerRadius+5)+",0)"})).append("text").text((function(t){switch(t.name){case"Lao People's Democratic Republic":return"Lao People's D.R.";case"Macedonia (the former Yugoslav Republic of)":return"Macedonia";case"Micronesia (Federated States of)":return"Micronesia";case"Venezuela (Bolivarian Republic of)":return"Venezuela";default:return t.name}})).attr("transform",(function(t){return(e(t.name)+e.bandwidth()/2+Math.PI)%(2*Math.PI)<Math.PI?"rotate(180)":"rotate(0)"})).style("font-size","10px").attr("alignment-baseline","middle")}}])&&l(n.prototype,e),r&&l(n,r),o}(e(376).a),v=e(377),b=function(t){var n=t.data,e=Object(r.useRef)(null),o=Object(r.useRef)(null);return Object(r.useEffect)((function(){e.current&&(o.current=new y(e.current,n,{margins:{top:50,right:50,bottom:50,left:50}}))}),[n]),a.a.createElement(v.a,{ref:e})},w=e(102);n.default=function(){var t=Object(o.a)(u.b),n=t.data,e=t.loading;return a.a.createElement("section",null,a.a.createElement(i.a,null,"Countries with the Areas less than 1.5 million km",a.a.createElement("sup",null,"2")),e&&!n&&a.a.createElement(w.a,null),n&&a.a.createElement(b,{data:n.Country}))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9VSS9UaXRsZS9pbmRleC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2dxbC9xdWVyaWVzLnRzIiwid2VicGFjazovLy8uL3NyYy9kMy1jaGFydC9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9DaGFydFdyYXBwZXIvaW5kZXgudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0NoYXJ0cy9BcmVhQ2hhcnQvQXJlYUQzQ2hhcnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQ2hhcnRzL0FyZWFDaGFydC9pbmRleC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL0FyZWFQYWdlL2luZGV4LnRzeCJdLCJuYW1lcyI6WyJUaXRsZSIsImNoaWxkcmVuIiwiY2xhc3NOYW1lIiwiY291bnRyeUZyYWdtZW50IiwiZ3FsIiwiR0VUX0NPVU5UUklFU19QT1BVTEFUSU9OIiwiR0VUX0NPVU5UUklFU19ERU5TSVRZIiwiR0VUX0NPVU5UUklFU19BUkVBIiwiR0VUX1RJTUVaT05FUyIsIkdFVF9DT1VOVFJJRVNfQk9SREVSUyIsIkdFVF9DT05USU5FTlRTIiwiRDNDaGFydCIsImVsZW1lbnQiLCJ2ZXJ0aWNhbFNjcmVlbiIsIm1hcmdpbnMiLCJoZWlnaHQiLCJ3aWR0aCIsInRoaXMiLCJzdmdXaWR0aCIsImNsaWVudFdpZHRoIiwic3ZnSGVpZ2h0IiwiY2xpZW50SGVpZ2h0Iiwidmlld0JveFdpZHRoIiwiTWF0aCIsIm1heCIsInZpZXdCb3hIZWlnaHQiLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJzdmciLCJkMyIsImFwcGVuZCIsImF0dHIiLCJjZW50ZXJDaGFydCIsIngiLCJ5IiwieEF4aXNHcm91cCIsImNsYXNzZWQiLCJ5QXhpc0dyb3VwIiwidGV4dCIsImVhY2giLCJ3b3JkIiwid29yZHMiLCJzcGxpdCIsInJldmVyc2UiLCJsaW5lIiwibGluZU51bWJlciIsImR5IiwicGFyc2VGbG9hdCIsInRzcGFuIiwicG9wIiwicHVzaCIsImpvaW4iLCJub2RlIiwiZ2V0Q29tcHV0ZWRUZXh0TGVuZ3RoIiwiZGVnIiwiUEkiLCJyYWQiLCJDaGFydFdyYXBwZXIiLCJmb3J3YXJkUmVmIiwicmVmIiwiY2xhc3NOYW1lcyIsIkFyZWFEM0NoYXJ0IiwiZGF0YSIsImRpbWVuc2lvbnMiLCJjb2xvciIsInZhbHVlIiwid2lkdGhJc0xlc3MiLCJtaW4iLCJvdXRlclJhZGl1cyIsInVwZGF0ZSIsImciLCJjYWxsIiwic2VsZWN0QWxsIiwidGlja3MiLCJzbGljZSIsImkiLCJkIiwidGlja0Zvcm1hdCIsImNsb25lIiwiXyIsImFyZWEiLCJ0IiwiYXJjIiwiZG9tYWluIiwiY29sb3JzIiwibWFwIiwiYyIsInJhbmdlIiwiYWxpZ24iLCJuYW1lIiwieUxpbmVhciIsIk9iamVjdCIsImFzc2lnbiIsInNxcnQiLCJ5QXhpcyIsImlubmVyUmFkaXVzIiwic3RhcnRBbmdsZSIsImVuZEFuZ2xlIiwiYmFuZHdpZHRoIiwicGFkQW5nbGUiLCJwYWRSYWRpdXMiLCJ0cmFuc2l0aW9uIiwiZHVyYXRpb24iLCJhdHRyVHdlZW4iLCJhcmNUd2VlbiIsInN0eWxlIiwiQXJlYUNoYXJ0IiwiY2hhcnRFbGVtZW50UmVmIiwidXNlUmVmIiwiY2hhcnRJbnN0YW5jZVJlZiIsInVzZUVmZmVjdCIsImN1cnJlbnQiLCJBcmVhUGFnZSIsInVzZVF1ZXJ5IiwibG9hZGluZyIsIlByZWxvYWQiLCJDb3VudHJ5Il0sIm1hcHBpbmdzIjoiMEZBQUEsMkJBV2VBLElBUlEsU0FBQyxHQUFpQixJQUFmQyxFQUFlLEVBQWZBLFNBQ3hCLE9BQ0Usd0JBQUlDLFVBQVUsU0FDVkQsSyxpa0ZDSlIsSUFBTUUsRUFBa0JDLFlBQUgsS0FrQ1JDLEdBM0JzQkQsWUFBSCxLQTJCUUEsWUFBSCxJQVFqQ0QsSUFHU0csRUFBd0JGLFlBQUgsSUFVOUJELEdBR1NJLEVBQXFCSCxZQUFILElBTzNCRCxHQUdTSyxFQUFnQkosWUFB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QjFFLEtBQUsscUJBQXNCLGUscUNBNUdHdEIsRyxTQ3dCMUJpRyxFQXBCNkIsU0FBQyxHQUFhLElBQVg1QyxFQUFXLEVBQVhBLEtBQ3ZDNkMsRUFBa0JDLGlCQUF1QixNQUN6Q0MsRUFBbUJELGlCQUEyQixNQWFwRCxPQVhBRSxxQkFBVSxXQUNISCxFQUFnQkksVUFDckJGLEVBQWlCRSxRQUFVLElBQUlsRCxFQUM3QjhDLEVBQWdCSSxRQUNoQmpELEVBQ0EsQ0FDRWxELFFBQVMsQ0FBRWMsSUFBSyxHQUFJRCxNQUFPLEdBQUlFLE9BQVEsR0FBSUgsS0FBTSxTQUdwRCxDQUFDc0MsSUFHRixrQkFBQ0wsRUFBQSxFQUFELENBQWNFLElBQUtnRCxLLFNDRlJLLFVBWFcsV0FBTSxNQUNKQyxZQUE2QjVHLEtBQS9DeUQsRUFEc0IsRUFDdEJBLEtBQU1vRCxFQURnQixFQUNoQkEsUUFDZCxPQUNFLGlDQUNFLGtCQUFDcEgsRUFBQSxFQUFELHlEQUF3RCxtQ0FDckRvSCxJQUFZcEQsR0FBUyxrQkFBQ3FELEVBQUEsRUFBRCxNQUN0QnJELEdBQVEsa0JBQUMsRUFBRCxDQUFXQSxLQUFNQSxFQUFLc0QiLCJmaWxlIjoic3RhdGljL2pzLzguZjIwYzM5ODQuY2h1bmsuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICcuL3RpdGxlLnNjc3MnO1xuXG5jb25zdCBUaXRsZTpSZWFjdC5GQyA9ICh7IGNoaWxkcmVuIH0pID0+IHtcbiAgcmV0dXJuIChcbiAgICA8aDIgY2xhc3NOYW1lPVwidGl0bGVcIj5cbiAgICAgIHsgY2hpbGRyZW4gfVxuICAgIDwvaDI+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBUaXRsZTsiLCJpbXBvcnQgeyBncWwgfSBmcm9tICdhcG9sbG8tYm9vc3QnO1xuXG5jb25zdCBjb3VudHJ5RnJhZ21lbnQgPSBncWxgXG4gIGZyYWdtZW50IENvdW50cnlEYXRhIG9uIENvdW50cnkge1xuICAgIF9pZCxcbiAgICBuYW1lXG4gIH1cbmA7XG5cbmV4cG9ydCBjb25zdCBHRVRfQ09VTlRSWV9CWV9OQU1FID0gZ3FsYFxuICBxdWVyeSBnZXRDb3VudHJ5QnlOYW1lKCRuYW1lOiBTdHJpbmcpIHtcbiAgICBDb3VudHJ5KG5hbWU6ICRuYW1lKSB7XG4gICAgICBhcmVhLFxuICAgICAgZGVtb255bSxcbiAgICAgIG5hbWUsXG4gICAgICBuYXRpdmVOYW1lLFxuICAgICAgbnVtZXJpY0NvZGUsXG4gICAgICBjYXBpdGFsLFxuICAgICAgb2ZmaWNpYWxMYW5ndWFnZXMge1xuICAgICAgICBuYW1lXG4gICAgICB9XG4gICAgICBwb3B1bGF0aW9uLFxuICAgICAgcG9wdWxhdGlvbkRlbnNpdHksXG4gICAgICBzdWJyZWdpb24ge1xuICAgICAgICBuYW1lXG4gICAgICB9LFxuICAgICAgYm9yZGVycyB7XG4gICAgICAgIG5hbWVcbiAgICAgIH1cbiAgICAgIHRpbWV6b25lcyB7XG4gICAgICAgIG5hbWVcbiAgICAgIH1cbiAgICB9XG4gIH1cbmA7XG5cbmV4cG9ydCBjb25zdCBHRVRfQ09VTlRSSUVTX1BPUFVMQVRJT04gPSBncWxgXG4gIHF1ZXJ5IGdldENvdW50cmllc0J5UG9wdWxhdGlvbigkb3JkZXJCeTpbX0NvdW50cnlPcmRlcmluZ10pIHtcbiAgICBDb3VudHJ5KG9yZGVyQnk6ICRvcmRlckJ5LCBmaXJzdDogMTAsIGZpbHRlcjogeyBwb3B1bGF0aW9uX2d0ZTogMSB9KSB7XG4gICAgICAuLi5Db3VudHJ5RGF0YVxuICAgICAgcG9wdWxhdGlvbixcbiAgICAgIHBvcHVsYXRpb25EZW5zaXR5XG4gICAgfVxuICB9XG4gICR7Y291bnRyeUZyYWdtZW50fVxuYDtcblxuZXhwb3J0IGNvbnN0IEdFVF9DT1VOVFJJRVNfREVOU0lUWSA9IGdxbGBcbiAgcXVlcnkgZ2V0Q291bnRyaWVzRGVuc2l0eSB7XG4gICAgICBDb3VudHJ5KGZpbHRlcjogeyBhcmVhX2d0OiAxLCBwb3B1bGF0aW9uX2d0OiAxLCBjYXBpdGFsX25vdDogXCJcIiB9KSB7XG4gICAgICAuLi5Db3VudHJ5RGF0YVxuICAgICAgYWxwaGEzQ29kZSxcbiAgICAgIGRlbnNpdHk6IHBvcHVsYXRpb25EZW5zaXR5LFxuICAgICAgcG9wdWxhdGlvbixcbiAgICAgIGFyZWFcbiAgICB9XG4gIH1cbiAgJHtjb3VudHJ5RnJhZ21lbnR9XG5gO1xuXG5leHBvcnQgY29uc3QgR0VUX0NPVU5UUklFU19BUkVBID0gZ3FsYFxuICBxdWVyeSBnZXRDb3VudHJpZXNBcmVhIHtcbiAgICBDb3VudHJ5KGZpbHRlcjogeyBhcmVhX2x0OiAxNTAwMDAwLCBwb3B1bGF0aW9uX2d0OiAxLCBjYXBpdGFsX25vdDogXCJcIiB9KSB7XG4gICAgICAuLi5Db3VudHJ5RGF0YSxcbiAgICAgIGFyZWFcbiAgICB9XG4gIH1cbiAgJHtjb3VudHJ5RnJhZ21lbnR9XG5gO1xuXG5leHBvcnQgY29uc3QgR0VUX1RJTUVaT05FUyA9IGdxbGBcbiAgcXVlcnkgZ2V0VGltZXpvbmVzIHtcbiAgICBUaW1lem9uZSB7XG4gICAgICBfaWQsXG4gICAgICBuYW1lLFxuICAgICAgY291bnRyaWVzKGZpbHRlcjogeyBhcmVhX2d0OiAxLCBwb3B1bGF0aW9uX2d0OiAxLCBjYXBpdGFsX25vdDogXCJcIiB9KSB7XG4gICAgICAgIF9pZCxcbiAgICAgICAgcG9wdWxhdGlvblxuICAgICAgfVxuICAgIH1cbiAgfVxuYDtcblxuZXhwb3J0IGNvbnN0IEdFVF9DT1VOVFJJRVNfQk9SREVSUyA9IGdxbGBcbiAgcXVlcnkgZ2V0Q291bnRyeUJvcmRlcnMge1xuICAgIENvdW50cnkoZmlsdGVyOiB7IGFyZWFfZ3Q6IDEsIHBvcHVsYXRpb25fZ3Q6IDEsIGNhcGl0YWxfbm90OiBcIlwiIH0pIHtcbiAgICAgIC4uLkNvdW50cnlEYXRhLFxuICAgICAgYWxwaGEzQ29kZSxcbiAgICAgIGJvcmRlcnMge1xuICAgICAgICBhbHBoYTNDb2RlXG4gICAgICB9XG4gICAgfVxuICB9XG4gICR7Y291bnRyeUZyYWdtZW50fVxuYDtcblxuZXhwb3J0IGNvbnN0IEdFVF9DT05USU5FTlRTID0gZ3FsYFxuICBxdWVyeSBnZXRSZWdpb25zIHtcbiAgICBSZWdpb24oZmlsdGVyOiB7IG5hbWVfbm90OiBcIlBvbGFyXCIgfSkge1xuICAgICAgX2lkLFxuICAgICAgbmFtZSxcbiAgICAgIHN1YnJlZ2lvbnMge1xuICAgICAgICBfaWRcbiAgICAgICAgbmFtZVxuICAgICAgICBjb3VudHJpZXMoZmlsdGVyOiB7IHBvcHVsYXRpb25fZ3Q6IDEgfSkge1xuICAgICAgICAgIF9pZCxcbiAgICAgICAgICBwb3B1bGF0aW9uXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbmA7IiwiaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElNYXJnaW5zIHtcbiAgdG9wOiBudW1iZXI7XG4gIHJpZ2h0OiBudW1iZXI7XG4gIGJvdHRvbTogbnVtYmVyO1xuICBsZWZ0OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNoYXJ0RGltZW5zaW9ucyB7XG4gIG1hcmdpbnM6IElNYXJnaW5zO1xuICB3aWR0aD86IG51bWJlcjtcbiAgaGVpZ2h0PzogbnVtYmVyO1xufVxuXG5leHBvcnQgdHlwZSBEM1NlbGVjdGlvbiA9IGQzLlNlbGVjdGlvbjxTVkdHRWxlbWVudCwgYW55LCBhbnksIGFueT47IFxuXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBEM0NoYXJ0IHtcbiAgcHJvdGVjdGVkIHN2ZzogRDNTZWxlY3Rpb247XG4gIHByb3RlY3RlZCBtYXJnaW5zOklNYXJnaW5zO1xuICBwcm90ZWN0ZWQgd2lkdGg6bnVtYmVyO1xuICBwcm90ZWN0ZWQgaGVpZ2h0Om51bWJlcjtcbiAgcHJvdGVjdGVkIHhBeGlzR3JvdXAhOiBEM1NlbGVjdGlvbjtcbiAgcHJvdGVjdGVkIHlBeGlzR3JvdXAhOiBEM1NlbGVjdGlvbjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBlbGVtZW50OiBIVE1MRGl2RWxlbWVudCxcbiAgICB7IG1hcmdpbnMsIGhlaWdodCwgd2lkdGggfTogSUNoYXJ0RGltZW5zaW9ucyxcbiAgICB2ZXJ0aWNhbFNjcmVlbj86IGJvb2xlYW5cbiAgKSB7XG4gICAgdGhpcy5tYXJnaW5zID0gbWFyZ2lucztcblxuICAgIGNvbnN0IHN2Z1dpZHRoID0gKHdpZHRoIHx8IGVsZW1lbnQuY2xpZW50V2lkdGgpO1xuICAgIGNvbnN0IHN2Z0hlaWdodCA9IChoZWlnaHQgfHwgZWxlbWVudC5jbGllbnRIZWlnaHQpO1xuXG4gICAgY29uc3Qgdmlld0JveFdpZHRoID0gTWF0aC5tYXgoc3ZnV2lkdGgsIDExMDApO1xuICAgIGNvbnN0IHZpZXdCb3hIZWlnaHQgPSBNYXRoLm1heChzdmdIZWlnaHQsIHZlcnRpY2FsU2NyZWVuID8gMTEwMCA6IDcwMCk7XG5cbiAgICB0aGlzLndpZHRoID0gdmlld0JveFdpZHRoIC0gdGhpcy5tYXJnaW5zLmxlZnQgLSB0aGlzLm1hcmdpbnMucmlnaHQ7XG4gICAgdGhpcy5oZWlnaHQgPSB2aWV3Qm94SGVpZ2h0IC0gdGhpcy5tYXJnaW5zLnRvcCAtIHRoaXMubWFyZ2lucy5ib3R0b207XG5cbiAgICB0aGlzLnN2ZyA9IFxuICAgICAgZDMuc2VsZWN0KGVsZW1lbnQpXG4gICAgICAgIC5hcHBlbmQoJ3N2ZycpXG4gICAgICAgICAgLmF0dHIoJ3ZpZXdCb3gnLCBgMCAwICR7dmlld0JveFdpZHRofSAke3ZpZXdCb3hIZWlnaHR9YClcbiAgICAgICAgICAuYXR0cihcInByZXNlcnZlQXNwZWN0UmF0aW9cIiwgXCJ4TWluWU1pbiBtZWV0XCIpXG4gICAgICAgIC5hcHBlbmQoJ2cnKTtcbiAgICB0aGlzLmNlbnRlckNoYXJ0KCk7XG4gIH1cbiAgXG4gIHByb3RlY3RlZCBhZGRBeGlzR3JvdXBzKHg6IGJvb2xlYW4gPSB0cnVlLCB5OiBib29sZWFuID0gdHJ1ZSk6IHZvaWQge1xuICAgIGlmICh4KSB7XG4gICAgICB0aGlzLnhBeGlzR3JvdXAgPSB0aGlzLnN2Zy5hcHBlbmQoJ2cnKVxuICAgICAgICAuY2xhc3NlZCgnYXhpcy1ncm91cCcsIHRydWUpXG4gICAgICAgIC5jbGFzc2VkKCd4LWF4aXMtZ3JvdXAnLCB0cnVlKVxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgwLCAke3RoaXMuaGVpZ2h0fSlgKTtcbiAgICB9XG4gICAgaWYgKHkpIHtcbiAgICAgIHRoaXMueUF4aXNHcm91cCA9IHRoaXMuc3ZnLmFwcGVuZCgnZycpXG4gICAgICAgIC5jbGFzc2VkKCdheGlzLWdyb3VwJywgdHJ1ZSlcbiAgICAgICAgLmNsYXNzZWQoJ3ktYXhpcy1ncm91cCcsIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBjZW50ZXJDaGFydChsZWZ0OiBudW1iZXIgPSB0aGlzLm1hcmdpbnMubGVmdCwgdG9wOiBudW1iZXIgPSB0aGlzLm1hcmdpbnMudG9wKTp2b2lkIHtcbiAgICB0aGlzLnN2Zy5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7bGVmdH0sICR7dG9wfSlgKVxuICB9XG5cbiAgcHJvdGVjdGVkIHdyYXAodGV4dDogZDMuU2VsZWN0aW9uPGQzLkJhc2VUeXBlLCB1bmtub3duLCBTVkdHRWxlbWVudCwgYW55Piwgd2lkdGg6IG51bWJlcikge1xuICAgIHRleHQuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIGxldCB0ZXh0ID0gZDMuc2VsZWN0KHRoaXMpLFxuICAgICAgICAgIHdvcmRzID0gdGV4dC50ZXh0KCkuc3BsaXQoL1xccysvKS5yZXZlcnNlKCksXG4gICAgICAgICAgd29yZCxcbiAgICAgICAgICBsaW5lOiBzdHJpbmdbXSA9IFtdLFxuICAgICAgICAgIGxpbmVOdW1iZXIgPSAwLFxuICAgICAgICAgIGxpbmVIZWlnaHQgPSAxLjEsIC8vIGVtc1xuICAgICAgICAgIHkgPSB0ZXh0LmF0dHIoXCJ5XCIpLFxuICAgICAgICAgIGR5ID0gcGFyc2VGbG9hdCh0ZXh0LmF0dHIoXCJkeVwiKSksXG4gICAgICAgICAgdHNwYW4gPSB0ZXh0LnRleHQobnVsbCkuYXBwZW5kKFwidHNwYW5cIikuYXR0cihcInhcIiwgMCkuYXR0cihcInlcIiwgeSkuYXR0cihcImR5XCIsIGR5ICsgXCJlbVwiKVxuICAgICAgd2hpbGUgKHdvcmQgPSB3b3Jkcy5wb3AoKSkge1xuICAgICAgICBsaW5lLnB1c2god29yZClcbiAgICAgICAgdHNwYW4udGV4dChsaW5lLmpvaW4oXCIgXCIpKVxuICAgICAgICBpZiAodHNwYW4ubm9kZSgpIS5nZXRDb21wdXRlZFRleHRMZW5ndGgoKSA+IHdpZHRoKSB7XG4gICAgICAgICAgbGluZS5wb3AoKVxuICAgICAgICAgIHRzcGFuLnRleHQobGluZS5qb2luKFwiIFwiKSlcbiAgICAgICAgICBsaW5lID0gW3dvcmRdXG4gICAgICAgICAgdHNwYW4gPSB0ZXh0LmFwcGVuZChcInRzcGFuXCIpLmF0dHIoXCJ4XCIsIDApLmF0dHIoXCJ5XCIsIHkpLmF0dHIoXCJkeVwiLCBgJHsrK2xpbmVOdW1iZXIgKiBsaW5lSGVpZ2h0ICsgZHl9ZW1gKS50ZXh0KHdvcmQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgcHJvdGVjdGVkIGRlZ1RvUmFkKGRlZzogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gZGVnICogTWF0aC5QSSAvIDE4MDtcbiAgfVxuXG4gIHByb3RlY3RlZCByYWRUb0RlZyhyYWQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIHJhZCAqIDE4MCAvIE1hdGguUEk7XG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QsIHsgZm9yd2FyZFJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9jaGFydC13cmFwcGVyLnNjc3MnO1xuXG5pbnRlcmZhY2UgSUNoYXJ0V3JhcHBlclByb3BzIHtcbiAgY2xhc3NOYW1lcz86IHN0cmluZ1tdO1xufVxuXG5jb25zdCBDaGFydFdyYXBwZXIgPSBmb3J3YXJkUmVmPEhUTUxEaXZFbGVtZW50LCBJQ2hhcnRXcmFwcGVyUHJvcHM+KCh7IGNoaWxkcmVuLCBjbGFzc05hbWVzID0gW10gfSwgcmVmKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGRpdiByZWY9e3JlZn0gY2xhc3NOYW1lPXtgY2hhcnQtd3JhcHBlciAke2NsYXNzTmFtZXMuam9pbignICcpfWB9PlxuICAgICAgeyBjaGlsZHJlbiB9XG4gICAgPC9kaXY+XG4gICk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQ2hhcnRXcmFwcGVyOyIsImltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCBEM0NoYXJ0LCB7IElDaGFydERpbWVuc2lvbnMgfSBmcm9tICdAZDMtY2hhcnQnO1xuaW1wb3J0IHsgSUNvdW50cnlBcmVhIH0gZnJvbSAnQHR5cGVzJztcbmltcG9ydCB7IHRyYW5zaXRpb24gfSBmcm9tICdkMyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFyZWFEM0NoYXJ0IGV4dGVuZHMgRDNDaGFydCB7XG4gIHByaXZhdGUgb3V0ZXJSYWRpdXM6IG51bWJlcjtcbiAgcHJpdmF0ZSBhcmMhOmQzLkFyYzxhbnksIElDb3VudHJ5QXJlYT47XG4gIHByaXZhdGUgY29sb3JzID0gW1xuICAgIHsgY29sb3I6ICcjMDJjNGRlJywgdmFsdWU6IDAgfSxcbiAgICB7IGNvbG9yOiAnIzAyYjNjYScsIHZhbHVlOiAxMDAwMDAgfSxcbiAgICB7IGNvbG9yOiAnIzAyYTFiNicsIHZhbHVlOiAyMDAwMDAgfSxcbiAgICB7IGNvbG9yOiAnIzAyOGVhMScsIHZhbHVlOiAzMDAwMDAgfSxcbiAgICB7IGNvbG9yOiAnIzAzODE5OCcsIHZhbHVlOiA1NTAwMDAgfSxcbiAgICB7IGNvbG9yOiAnIzA0NzM4ZicsIHZhbHVlOiA3MDAwMDAgfSxcbiAgICB7IGNvbG9yOiAnIzA0NTY3NicsIHZhbHVlOiA4MDAwMDAgfSxcbiAgICB7IGNvbG9yOiAnIzA0NDg2MicsIHZhbHVlOiA5MDAwMCB9LFxuICAgIHsgY29sb3I6ICcjMDMzOTRlJywgdmFsdWU6IDExMDAwMDAgfSxcbiAgICB7IGNvbG9yOiAnIzAzMzQ0NycsIHZhbHVlOiAxMzAwMDAwIH0sXG4gIF1cblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBIVE1MRGl2RWxlbWVudCwgcHJpdmF0ZSBkYXRhOiBJQ291bnRyeUFyZWFbXSwgZGltZW5zaW9uczogSUNoYXJ0RGltZW5zaW9ucykge1xuICAgIHN1cGVyKGVsZW1lbnQsIGRpbWVuc2lvbnMpO1xuICAgIGNvbnN0IHdpZHRoSXNMZXNzID0gTWF0aC5taW4odGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpID09PSB0aGlzLndpZHRoO1xuICAgIHRoaXMub3V0ZXJSYWRpdXMgPSB3aWR0aElzTGVzcyA/IHRoaXMud2lkdGggLyAyIDogdGhpcy5oZWlnaHQgLyAxLjU7XG4gICAgdGhpcy5jZW50ZXJDaGFydCh0aGlzLndpZHRoIC8gMiArIHRoaXMubWFyZ2lucy5sZWZ0LCAodGhpcy5oZWlnaHQgLyAod2lkdGhJc0xlc3MgPyAyIDogMS41KSkgKyB0aGlzLm1hcmdpbnMudG9wICogMilcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG4gIFxuICBwcml2YXRlIHlBeGlzKGc6IGQzLlNlbGVjdGlvbjxTVkdHRWxlbWVudCwgYW55LCBhbnksIGFueT4sIHk6IGQzLlNjYWxlTGluZWFyPG51bWJlciwgbnVtYmVyPikge1xuICAgIHJldHVybiBnLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxuICAgICAgLmNhbGwoZyA9PiBnLnNlbGVjdEFsbChcImdcIilcbiAgICAgICAgLmRhdGEoeS50aWNrcyg1KS5zbGljZSgxKSlcbiAgICAgICAgLmpvaW4oXCJnXCIpXG4gICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIFwibm9uZVwiKVxuICAgICAgICAgIC5jYWxsKChnLCBpKSA9PiBnLmFwcGVuZChcImNpcmNsZVwiKVxuICAgICAgICAgICAgICAuYXR0cihcInN0cm9rZVwiLCBcIiNiYmJcIilcbiAgICAgICAgICAgICAgLmF0dHIoXCJzdHJva2Utb3BhY2l0eVwiLCAwLjUpXG4gICAgICAgICAgICAgIC5hdHRyKFwiclwiLCB5KSlcbiAgICAgICAgICAuY2FsbChnID0+IGcuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgICAgICAgICAuYXR0cihcInlcIiwgZCA9PiAteShkKSlcbiAgICAgICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIjAuMzVlbVwiKVxuICAgICAgICAgICAgICAuYXR0cihcInN0cm9rZS13aWR0aFwiLCA1KVxuICAgICAgICAgICAgICAudGV4dCh5LnRpY2tGb3JtYXQoNSwgXCJzXCIpKVxuICAgICAgICAgICAgICAuYXR0cignZm9udC1zaXplJywgMTEpXG4gICAgICAgICAgICAgIC5hdHRyKCdmb250LWZhbWlseScsIGAnT3BlbiBTYW5zJywgc2Fucy1zZXJpZmApXG4gICAgICAgICAgICAgIC5hdHRyKCdmb250LXdlaWdodCcsIDYwMClcbiAgICAgICAgICAuY2xvbmUodHJ1ZSlcbiAgICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIFwiIzAwMFwiKVxuICAgICAgICAgICAgICAuYXR0cihcInN0cm9rZVwiLCBcIm5vbmVcIikpKTtcbiAgfVxuXG4gIHByaXZhdGUgYXJjVHdlZW4oZDogSUNvdW50cnlBcmVhKTogKHQ6IG51bWJlcikgPT4gc3RyaW5nIHtcbiAgICBjb25zdCBfID0gdGhpcztcbiAgICBjb25zdCBpID0gZDMuaW50ZXJwb2xhdGUoeyBhcmVhOiAwIH0sIGQpO1xuICAgIHJldHVybiBmdW5jdGlvbih0OiBudW1iZXIpIHtcbiAgICAgIGNvbnN0IGQgPSBfLmFyYyhpKHQpKTtcbiAgICAgIHJldHVybiBkID8gZCA6ICcnO1xuICAgIH1cbn1cblxuICBwcml2YXRlIHVwZGF0ZSgpIHtcbiAgICBjb25zdCBjb2xvciA9IGQzLnNjYWxlUXVhbnRpbGU8c3RyaW5nPigpXG4gICAgICAuZG9tYWluKHRoaXMuY29sb3JzLm1hcChjID0+IGMudmFsdWUpKVxuICAgICAgLnJhbmdlKHRoaXMuY29sb3JzLm1hcChjID0+IGMuY29sb3IpKTtcblxuICAgIGNvbnN0IHggPSBkMy5zY2FsZUJhbmQoKVxuICAgICAgLnJhbmdlKFtNYXRoLlBJICogMS40LCBNYXRoLlBJICogMi42XSlcbiAgICAgIC5hbGlnbigwKVxuICAgICAgLmRvbWFpbiggdGhpcy5kYXRhLm1hcChkID0+IGQubmFtZSkgKTtcblxuICAgIGNvbnN0IHlMaW5lYXIgPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAucmFuZ2UoWyB0aGlzLm91dGVyUmFkaXVzICogdGhpcy5vdXRlclJhZGl1cywgMF0pXG4gICAgICAuZG9tYWluKFtkMy5taW4odGhpcy5kYXRhLCBkPT5kLmFyZWEpISwgZDMubWF4KHRoaXMuZGF0YSwgZCA9PiBkLmFyZWEpIV0pO1xuICAgIGNvbnN0IHkgPSBPYmplY3QuYXNzaWduKChkOiBudW1iZXIpID0+IE1hdGguc3FydCh5TGluZWFyKGQpKSwgeUxpbmVhcik7XG5cbiAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgLmNhbGwodGhpcy55QXhpcywgeSk7XG5cbiAgICB0aGlzLmFyYyA9IGQzLmFyYzxJQ291bnRyeUFyZWE+KClcbiAgICAgIC5pbm5lclJhZGl1cyh5KDApKVxuICAgICAgLm91dGVyUmFkaXVzKGQgPT4geShkLmFyZWEpKVxuICAgICAgLnN0YXJ0QW5nbGUoZCA9PiB4KGQubmFtZSkhKVxuICAgICAgLmVuZEFuZ2xlKGQgPT4geChkLm5hbWUpISArIHguYmFuZHdpZHRoKCkpXG4gICAgICAucGFkQW5nbGUoMC4wMSlcbiAgICAgIC5wYWRSYWRpdXMoOTApO1xuICAgICAgXG4gICAgdGhpcy5zdmcuYXBwZW5kKCdnJylcbiAgICAgIC5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmRhdGEodGhpcy5kYXRhKVxuICAgICAgLmpvaW4oJ3BhdGgnKVxuICAgICAgICAuYXR0cignZmlsbCcsIGQgPT4gY29sb3IoZC5hcmVhISkpXG4gICAgICAgIC50cmFuc2l0aW9uKCkuZHVyYXRpb24oNTAwKVxuICAgICAgICAuYXR0clR3ZWVuKCdkJywgZCA9PiB0aGlzLmFyY1R3ZWVuKGQpKTtcblxuICAgIHRoaXMuc3ZnLmFwcGVuZCgnZycpXG4gICAgICAuc2VsZWN0QWxsKCdnJylcbiAgICAgIC5kYXRhKHRoaXMuZGF0YSlcbiAgICAgIC5qb2luKCdnJylcbiAgICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBkID0+ICh4KGQubmFtZSkhICsgeC5iYW5kd2lkdGgoKSAvIDIgKyBNYXRoLlBJKSAlICgyICogTWF0aC5QSSkgPCBNYXRoLlBJID8gXCJlbmRcIiA6IFwic3RhcnRcIilcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZCA9PiBcInJvdGF0ZShcIiArICgoeChkLm5hbWUpISArIHguYmFuZHdpZHRoKCkgLyAyKSAqIDE4MCAvIE1hdGguUEkgLSA5MCkgKyBcIilcIitcInRyYW5zbGF0ZShcIiArICggdGhpcy5vdXRlclJhZGl1cyArIDUpICsgXCIsMClcIilcbiAgICAgICAgLmFwcGVuZChcInRleHRcIilcbiAgICAgICAgICAudGV4dChkID0+IHtcbiAgICAgICAgICAgIHN3aXRjaChkLm5hbWUpIHtcbiAgICAgICAgICAgICAgY2FzZSBgTGFvIFBlb3BsZSdzIERlbW9jcmF0aWMgUmVwdWJsaWNgOiByZXR1cm4gYExhbyBQZW9wbGUncyBELlIuYDtcbiAgICAgICAgICAgICAgY2FzZSAnTWFjZWRvbmlhICh0aGUgZm9ybWVyIFl1Z29zbGF2IFJlcHVibGljIG9mKSc6IHJldHVybiAnTWFjZWRvbmlhJztcbiAgICAgICAgICAgICAgY2FzZSBgTWljcm9uZXNpYSAoRmVkZXJhdGVkIFN0YXRlcyBvZilgOiByZXR1cm4gJ01pY3JvbmVzaWEnO1xuICAgICAgICAgICAgICBjYXNlICdWZW5lenVlbGEgKEJvbGl2YXJpYW4gUmVwdWJsaWMgb2YpJzogcmV0dXJuICdWZW5lenVlbGEnO1xuICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gZC5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZCA9PiAoeChkLm5hbWUpISArIHguYmFuZHdpZHRoKCkgLyAyICsgTWF0aC5QSSkgJSAoMiAqIE1hdGguUEkpIDwgTWF0aC5QSSA/IFwicm90YXRlKDE4MClcIiA6IFwicm90YXRlKDApXCIpXG4gICAgICAgICAgLnN0eWxlKFwiZm9udC1zaXplXCIsIFwiMTBweFwiKVxuICAgICAgICAgIC5hdHRyKFwiYWxpZ25tZW50LWJhc2VsaW5lXCIsIFwibWlkZGxlXCIpXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QsIHsgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBJQ291bnRyeUFyZWEgfSBmcm9tICdAdHlwZXMnO1xuaW1wb3J0IEFyZWFEM0NoYXJ0IGZyb20gJy4vQXJlYUQzQ2hhcnQnO1xuaW1wb3J0IENoYXJ0V3JhcHBlciBmcm9tICdAL0NoYXJ0V3JhcHBlcic7XG5cbmludGVyZmFjZSBJQXJlYUNoYXJ0UHJvcHMge1xuICBkYXRhOiBJQ291bnRyeUFyZWFbXTtcbn1cblxuY29uc3QgQXJlYUNoYXJ0OlJlYWN0LkZDPElBcmVhQ2hhcnRQcm9wcz4gPSAoeyBkYXRhIH0pID0+IHtcbiAgY29uc3QgY2hhcnRFbGVtZW50UmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgY2hhcnRJbnN0YW5jZVJlZiA9IHVzZVJlZjxBcmVhRDNDaGFydCB8IG51bGw+KG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFjaGFydEVsZW1lbnRSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgIGNoYXJ0SW5zdGFuY2VSZWYuY3VycmVudCA9IG5ldyBBcmVhRDNDaGFydChcbiAgICAgIGNoYXJ0RWxlbWVudFJlZi5jdXJyZW50LFxuICAgICAgZGF0YSxcbiAgICAgIHtcbiAgICAgICAgbWFyZ2luczogeyB0b3A6IDUwLCByaWdodDogNTAsIGJvdHRvbTogNTAsIGxlZnQ6IDUwIH1cbiAgICAgIH1cbiAgICApO1xuICB9LCBbZGF0YV0pXG5cbiAgcmV0dXJuIChcbiAgICA8Q2hhcnRXcmFwcGVyIHJlZj17Y2hhcnRFbGVtZW50UmVmfSAvPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQXJlYUNoYXJ0OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VRdWVyeSB9IGZyb20gJ0BhcG9sbG8vcmVhY3QtaG9va3MnO1xuaW1wb3J0IFRpdGxlIGZyb20gJ0AvVUkvVGl0bGUnO1xuaW1wb3J0IHsgR0VUX0NPVU5UUklFU19BUkVBIH0gZnJvbSAnQHF1ZXJpZXMnO1xuaW1wb3J0IHsgSUNvdW50cnlBcmVhIH0gZnJvbSAnQHR5cGVzJztcbmltcG9ydCBBcmVhQ2hhcnQgZnJvbSAnQC9DaGFydHMvQXJlYUNoYXJ0JztcbmltcG9ydCBQcmVsb2FkIGZyb20gJ0AvVUkvUHJlbG9hZCc7XG5cbmludGVyZmFjZSBJQ291bnRyaWVzQXJlYURhdGEge1xuICBDb3VudHJ5OiBJQ291bnRyeUFyZWFbXVxufTtcblxuY29uc3QgQXJlYVBhZ2U6UmVhY3QuRkMgPSAoKSA9PiB7XG4gIGNvbnN0IHsgZGF0YSwgbG9hZGluZyB9ID0gdXNlUXVlcnk8SUNvdW50cmllc0FyZWFEYXRhPihHRVRfQ09VTlRSSUVTX0FSRUEpO1xuICByZXR1cm4gKFxuICAgIDxzZWN0aW9uPlxuICAgICAgPFRpdGxlPkNvdW50cmllcyB3aXRoIHRoZSBBcmVhcyBsZXNzIHRoYW4gMS41IG1pbGxpb24ga208c3VwPjI8L3N1cD48L1RpdGxlPlxuICAgICAgeyAobG9hZGluZyAmJiAhZGF0YSkgJiYgPFByZWxvYWQgLz4gfVxuICAgICAgeyBkYXRhICYmIDxBcmVhQ2hhcnQgZGF0YT17ZGF0YS5Db3VudHJ5fSAvPiB9XG4gICAgPC9zZWN0aW9uPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQXJlYVBhZ2U7Il0sInNvdXJjZVJvb3QiOiIifQ==